[uwsgi]
chdir = /app

# === Flask entrypoint ===
module = app:app

# === Process model (no threading) ===
master = true
processes = 4
threads = 1
lazy-apps = true        ; load app per worker process
thunder-lock = true     ; avoid accept() races
vacuum = true
die-on-term = true

# === Serve HTTP on 5000 (nginx proxies to this) ===
http-socket = 0.0.0.0:5000
